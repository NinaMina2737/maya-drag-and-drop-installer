# Maya Drag and Drop Installer

[English](README.md)

このリポジトリには、Mayaツールのインストーラを簡単に作成し、ユーザーがファイルをMayaにドラッグ＆ドロップするだけでインストールできるようにするスクリプトが含まれています。

## 環境

- Windows 10
- Maya 2020

## インストール

1. [最新リリース](https://github.com/NinaMina2737/maya-drag-and-drop-installer/releases/latest)をダウンロードし、アーカイブを展開してください。

## 必要条件

このツールを使用する前に、次の要件を満たしていることを確認してください。

- ツールのスクリプトディレクトリを指定するために、ツールのスクリプトディレクトリとファイルをすべて1つのディレクトリに配置する必要があります。

## 使用方法

1. `installer_generator.bat`を実行し、プロンプトに従ってインストーラスクリプト (`new_installer.py`) を生成します。
2. 生成された `new_installer.py` スクリプトを、Mayaツールスクリプトファイルと同じディレクトリに移動してください。
3. `new_installer.py` スクリプトをツールスクリプトファイルと一緒に配布してください。
4. ユーザーは、`new_installer.py` ファイルをMayaにドラッグ＆ドロップすることでツールをインストールできます。

**注記:** 完成したインストーラの配置には注意し、指定したスクリプトディレクトリにも注意してください。インストーラが実行されると、インストーラに設定したコマンドが現在アクティブなシェルフに登録されます。

## カスタマイズ

`maya_drag_and_drop_installer.py`の定数を直接編集することで、カスタムインストーラを作成することもできます。

### モジュールファイルについて

- `_MODULE_FILE_NAME`: 作成されるモジュールファイルの名前。
- `_MODULE_NAME`: モジュールの名前。
- `_MODULE_VERSION`: モジュールのバージョン。
- `_SCRIPTS_DIR_NAME`: ツールスクリプトファイルが含まれるディレクトリの名前。

### シェルフボタンについて

- `_COMMAND`: ユーザーがシェルフボタンをクリックしたときに実行されるコマンド。
- `_ICON_DIR_NAME`: シェルフボタンのアイコンファイルが含まれるディレクトリの名前。
- `_ICON_FILE_NAME`: シェルフボタンのアイコンファイルの名前。デフォルトでは、MELスクリプトには`commandButton.png`が、Pythonスクリプトには`pythonFamily.png`が使用されます。
- `_SOURCE_TYPE`: スクリプトファイルの種類。MELスクリプトには`mel`を、Pythonスクリプトには`python`を使用してください。

## トラブルシューティング

- インストールに失敗した場合、コマンドはシェルフに登録されません。
- インストールに問題が発生した場合は、スクリプトディレクトリへのパスが正しいか、モジュールファイルが正しい場所に作成されているかどうかを確認してください。

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細については、[LICENSE](LICENSE)ファイルを参照してください。
